{"ast":null,"code":"import { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  id: \"burger-table\"\n};\nconst _hoisted_2 = {\n  id: \"burger-table-rows\"\n};\nconst _hoisted_3 = {\n  class: \"order-number\"\n};\nconst _hoisted_4 = [\"onChange\"];\nconst _hoisted_5 = [\"value\", \"selected\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Message = _resolveComponent(\"Message\");\n  return $data.burgers ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createVNode(_component_Message, {\n    msg: _ctx.msg\n  }, null, 8 /* PROPS */, [\"msg\"]), [[_vShow, _ctx.msg]]), _cache[0] || (_cache[0] = _createElementVNode(\"div\", null, [_createElementVNode(\"div\", {\n    id: \"burger-table-heading\"\n  }, [_createElementVNode(\"div\", {\n    class: \"order-id\"\n  }, \"#:\"), _createElementVNode(\"div\", null, \"Cliente:\"), _createElementVNode(\"div\", null, \"Pão:\"), _createElementVNode(\"div\", null, \"Carne:\"), _createElementVNode(\"div\", null, \"Opcionais:\"), _createElementVNode(\"div\", null, \"Ações:\")])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.burgers, burger => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"burger-table-row\",\n      key: burger.id\n    }, [_createElementVNode(\"div\", _hoisted_3, _toDisplayString(burger.id), 1 /* TEXT */), _createElementVNode(\"div\", null, _toDisplayString(burger.nome), 1 /* TEXT */), _createElementVNode(\"div\", null, _toDisplayString(burger.pao), 1 /* TEXT */), _createElementVNode(\"div\", null, _toDisplayString(burger.carne), 1 /* TEXT */), _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(burger.opcionais, (opcional, index) => {\n      return _openBlock(), _createElementBlock(\"ul\", {\n        key: index\n      }, [_createElementVNode(\"li\", null, _toDisplayString(opcional), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", null, [_createElementVNode(\"select\", {\n      name: \"status\",\n      class: \"status\",\n      onChange: $event => $options.updateBurger($event, burger.id)\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.status, s => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        value: s.tipo,\n        key: s.id,\n        selected: burger.status == s.tipo\n      }, _toDisplayString(s.tipo), 9 /* TEXT, PROPS */, _hoisted_5);\n    }), 128 /* KEYED_FRAGMENT */))], 40 /* PROPS, NEED_HYDRATION */, _hoisted_4), _createElementVNode(\"button\", {\n      class: \"delete-btn\",\n      onClick: $event => $options.deleteBurger(burger.id)\n    }, \"Cancelar\", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _cache[1] || (_cache[1] = [_createElementVNode(\"h2\", null, \"Não há pedidos no momento!\", -1 /* HOISTED */)])));\n}","map":{"version":3,"names":["key","id","class","$data","burgers","_createElementBlock","_hoisted_1","_createVNode","_component_Message","msg","_ctx","_createElementVNode","_hoisted_2","_Fragment","_renderList","burger","_hoisted_3","_toDisplayString","nome","pao","carne","opcionais","opcional","index","name","onChange","$event","$options","updateBurger","status","s","value","tipo","selected","_hoisted_5","_hoisted_4","onClick","deleteBurger","_hoisted_6","_hoisted_7","_cache"],"sources":["/Users/hoffmann/VscodeProjects/burguer/src/components/GridPedidos.vue"],"sourcesContent":["<template>\n    <div id=\"burger-table\" v-if=\"burgers\">\n        <Message :msg=\"msg\"  v-show=\"msg\"/>\n        <div>\n            <div id=\"burger-table-heading\">\n                <div class=\"order-id\">#:</div>\n                <div>Cliente:</div>\n                <div>Pão:</div>\n                <div>Carne:</div>\n                <div>Opcionais:</div>\n                <div>Ações:</div>\n            </div>\n        </div>\n        <div id=\"burger-table-rows\">\n            <div class=\"burger-table-row\" v-for=\"burger in burgers\" :key=\"burger.id\">\n                <div class=\"order-number\">{{ burger.id }}</div>\n                <div>{{ burger.nome }}</div>\n                <div>{{ burger.pao }}</div>\n                <div>{{ burger.carne }}</div>\n                <div>\n                    <ul v-for=\"(opcional, index) in burger.opcionais\" :key=\"index\">\n                        <li>{{ opcional }}</li>\n                    </ul>\n                </div>\n                <div>\n                    <select name=\"status\" class=\"status\" @change=\"updateBurger($event, burger.id)\">\n                        <option :value=\"s.tipo\" v-for=\"s in status\" :key=\"s.id\" :selected=\"burger.status == s.tipo\">\n                            {{ s.tipo }}\n                        </option>\n                    </select>\n                    <button class=\"delete-btn\" @click=\"deleteBurger(burger.id)\">Cancelar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div v-else>\n        <h2>Não há pedidos no momento!</h2>\n    </div>\n</template>\n\n<script>\n\nimport Message from './Message'\n\nexport default {\n    name: \"GridPedidos\",\n    data() {\n        return {\n            burgers: null,\n            burger_id: null,\n            status: []\n        }\n    },\n    components:{\n        Message\n    },\n    methods: {\n        async getPedidos() {\n            const req = await fetch('http://localhost:3000/burgers')\n\n            const data = await req.json()\n\n            this.burgers = data\n\n            // Resgata os status de pedidos\n            this.getStatus()\n\n        },\n\n        async getStatus() {\n\n            const req = await fetch('http://localhost:3000/status')\n\n            const data = await req.json()\n\n            this.status = data\n\n        },\n\n        async deleteBurger(id) {\n\n            const req = await fetch(`http://localhost:3000/burgers/${id}`, {\n                method: \"DELETE\"\n            });\n\n            const res = await req.json();\n\n            this.msg = \"Pedido cancelado com sucesso!\";\n\n            this.getPedidos();\n\n            setTimeout(() => this.msg = \"\", 3000)\n\n        },\n\n        async updateBurger(event, id) {\n\n            const option = event.target.value;\n\n            const dataJson = JSON.stringify({ status: option });\n\n            const req = await fetch(`http://localhost:3000/burgers/${id}`, {\n                method: \"PATCH\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: dataJson\n            });\n\n            const res = await req.json();\n            console.log(res);\n\n            this.msg = \"Pedido alterado com sucesso!\";\n            setTimeout(() => this.msg = \"\", 3000)\n\n        }\n    },\n    mounted() {\n        this.getPedidos()\n    }\n}\n\n</script>\n\n<style scoped>\n#burger-table {\n    max-width: 1200px;\n    margin: 0 auto;\n}\n\n#burger-table-heading,\n#burger-table-rows,\n.burger-table-row {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n#burger-table-heading {\n    font-weight: bold;\n    padding: 12px;\n    border-bottom: 3px solid #333;\n}\n\n.burger-table-row {\n    width: 100%;\n    padding: 12px;\n    border-bottom: 1px solid #CCC;\n}\n\n#burger-table-heading div,\n.burger-table-row div {\n    width: 19%;\n}\n\n#burger-table-heading .order-id,\n.burger-table-row .order-number {\n    width: 5%;\n}\n\nselect {\n    padding: 12px 6px;\n    margin-right: 12px;\n}\n\n.delete-btn {\n    background-color: #222;\n    color: #fcba03;\n    font-weight: bold;\n    border: 2px solid #222;\n    padding: 10px;\n    font-size: 16px;\n    margin: 0 auto;\n    cursor: pointer;\n    transition: .5s;\n}\n\n.delete-btn:hover {\n    background-color: transparent;\n    color: #222;\n}\n</style>\n  "],"mappings":";;EAAAA,GAAA;EACSC,EAAE,EAAC;;;EAYCA,EAAE,EAAC;AAAmB;;EAEdC,KAAK,EAAC;AAAc;mBAfzC;mBAAA;mBAAA;;EAAAF,GAAA;AAAA;;;SACiCG,KAAA,CAAAC,OAAO,I,cAApCC,mBAAA,CAiCM,OAjCNC,UAiCM,G,gBAhCFC,YAAA,CAAmCC,kBAAA;IAAzBC,GAAG,EAAEC,IAAA,CAAAD;EAAG,mC,SAAWC,IAAA,CAAAD,GAAG,E,6BAChCE,mBAAA,CASM,cARFA,mBAAA,CAOM;IAPDV,EAAE,EAAC;EAAsB,IAC1BU,mBAAA,CAA8B;IAAzBT,KAAK,EAAC;EAAU,GAAC,IAAE,GACxBS,mBAAA,CAAmB,aAAd,UAAQ,GACbA,mBAAA,CAAe,aAAV,MAAI,GACTA,mBAAA,CAAiB,aAAZ,QAAM,GACXA,mBAAA,CAAqB,aAAhB,YAAU,GACfA,mBAAA,CAAiB,aAAZ,QAAM,E,wBAGnBA,mBAAA,CAoBM,OApBNC,UAoBM,I,kBAnBFP,mBAAA,CAkBMQ,SAAA,QAhClBC,WAAA,CAc2DX,KAAA,CAAAC,OAAO,EAAjBW,MAAM;yBAA3CV,mBAAA,CAkBM;MAlBDH,KAAK,EAAC,kBAAkB;MAA4BF,GAAG,EAAEe,MAAM,CAACd;QACjEU,mBAAA,CAA+C,OAA/CK,UAA+C,EAAAC,gBAAA,CAAlBF,MAAM,CAACd,EAAE,kBACtCU,mBAAA,CAA4B,aAAAM,gBAAA,CAApBF,MAAM,CAACG,IAAI,kBACnBP,mBAAA,CAA2B,aAAAM,gBAAA,CAAnBF,MAAM,CAACI,GAAG,kBAClBR,mBAAA,CAA6B,aAAAM,gBAAA,CAArBF,MAAM,CAACK,KAAK,kBACpBT,mBAAA,CAIM,e,kBAHFN,mBAAA,CAEKQ,SAAA,QAtBzBC,WAAA,CAoBoDC,MAAM,CAACM,SAAS,EApBpE,CAoBgCC,QAAQ,EAAEC,KAAK;2BAA3BlB,mBAAA,CAEK;QAF8CL,GAAG,EAAEuB;MAAK,IACzDZ,mBAAA,CAAuB,YAAAM,gBAAA,CAAhBK,QAAQ,iB;sCAGvBX,mBAAA,CAOM,cANFA,mBAAA,CAIS;MAJDa,IAAI,EAAC,QAAQ;MAACtB,KAAK,EAAC,QAAQ;MAAEuB,QAAM,EAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY,CAACF,MAAM,EAAEX,MAAM,CAACd,EAAE;2BACxEI,mBAAA,CAESQ,SAAA,QA5BjCC,WAAA,CA0B4DX,KAAA,CAAA0B,MAAM,EAAXC,CAAC;2BAAhCzB,mBAAA,CAES;QAFA0B,KAAK,EAAED,CAAC,CAACE,IAAI;QAAuBhC,GAAG,EAAE8B,CAAC,CAAC7B,EAAE;QAAGgC,QAAQ,EAAElB,MAAM,CAACc,MAAM,IAAIC,CAAC,CAACE;0BAC/EF,CAAC,CAACE,IAAI,wBA3BrCE,UAAA;qEAAAC,UAAA,GA8BoBxB,mBAAA,CAA6E;MAArET,KAAK,EAAC,YAAY;MAAEkC,OAAK,EAAAV,MAAA,IAAEC,QAAA,CAAAU,YAAY,CAACtB,MAAM,CAACd,EAAE;OAAG,UAAQ,iBA9BxFqC,UAAA,E;uDAmCIjC,mBAAA,CAEM,OArCVkC,UAAA,EAAAC,MAAA,QAAAA,MAAA,OAoCQ7B,mBAAA,CAAmC,YAA/B,4BAA0B,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}