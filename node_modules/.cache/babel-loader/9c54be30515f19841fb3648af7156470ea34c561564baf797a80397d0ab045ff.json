{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  id: \"burger-table\"\n};\nconst _hoisted_2 = {\n  id: \"burger-table-rows\"\n};\nconst _hoisted_3 = {\n  class: \"order-number\"\n};\nconst _hoisted_4 = [\"onChange\"];\nconst _hoisted_5 = [\"value\", \"selected\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.burgers ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[0] || (_cache[0] = _createElementVNode(\"div\", null, [_createElementVNode(\"div\", {\n    id: \"burger-table-heading\"\n  }, [_createElementVNode(\"div\", {\n    class: \"order-id\"\n  }, \"#:\"), _createElementVNode(\"div\", null, \"Cliente:\"), _createElementVNode(\"div\", null, \"Pão:\"), _createElementVNode(\"div\", null, \"Carne:\"), _createElementVNode(\"div\", null, \"Opcionais:\"), _createElementVNode(\"div\", null, \"Ações:\")])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.burgers, burger => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"burger-table-row\",\n      key: burger.id\n    }, [_createElementVNode(\"div\", _hoisted_3, _toDisplayString(burger.id), 1 /* TEXT */), _createElementVNode(\"div\", null, _toDisplayString(burger.nome), 1 /* TEXT */), _createElementVNode(\"div\", null, _toDisplayString(burger.pao), 1 /* TEXT */), _createElementVNode(\"div\", null, _toDisplayString(burger.carne), 1 /* TEXT */), _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(burger.opcionais, (opcional, index) => {\n      return _openBlock(), _createElementBlock(\"ul\", {\n        key: index\n      }, [_createElementVNode(\"li\", null, _toDisplayString(opcional), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", null, [_createElementVNode(\"select\", {\n      name: \"status\",\n      class: \"status\",\n      onChange: $event => $options.updateBurger($event, burger.id)\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.status, s => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        value: s.tipo,\n        key: s.id,\n        selected: burger.status == s.tipo\n      }, _toDisplayString(s.tipo), 9 /* TEXT, PROPS */, _hoisted_5);\n    }), 128 /* KEYED_FRAGMENT */))], 40 /* PROPS, NEED_HYDRATION */, _hoisted_4), _createElementVNode(\"button\", {\n      class: \"delete-btn\",\n      onClick: $event => $options.deleteBurger(burger.id)\n    }, \"Cancelar\", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _cache[1] || (_cache[1] = [_createElementVNode(\"h2\", null, \"Não há pedidos no momento!\", -1 /* HOISTED */)])));\n}","map":{"version":3,"names":["key","id","class","$data","burgers","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","burger","_hoisted_3","_toDisplayString","nome","pao","carne","opcionais","opcional","index","name","onChange","$event","$options","updateBurger","status","s","value","tipo","selected","_hoisted_5","_hoisted_4","onClick","deleteBurger","_hoisted_6","_hoisted_7","_cache"],"sources":["/Users/hoffmann/VscodeProjects/burguer/src/components/GridPedidos.vue"],"sourcesContent":["<template>\n    <div id=\"burger-table\" v-if=\"burgers\">\n        <div>\n            <div id=\"burger-table-heading\">\n                <div class=\"order-id\">#:</div>\n                <div>Cliente:</div>\n                <div>Pão:</div>\n                <div>Carne:</div>\n                <div>Opcionais:</div>\n                <div>Ações:</div>\n            </div>\n        </div>\n        <div id=\"burger-table-rows\">\n            <div class=\"burger-table-row\" v-for=\"burger in burgers\" :key=\"burger.id\">\n                <div class=\"order-number\">{{ burger.id }}</div>\n                <div>{{ burger.nome }}</div>\n                <div>{{ burger.pao }}</div>\n                <div>{{ burger.carne }}</div>\n                <div>\n                    <ul v-for=\"(opcional, index) in burger.opcionais\" :key=\"index\">\n                        <li>{{ opcional }}</li>\n                    </ul>\n                </div>\n                <div>\n                    <select name=\"status\" class=\"status\" @change=\"updateBurger($event, burger.id)\">\n                        <option :value=\"s.tipo\" v-for=\"s in status\" :key=\"s.id\" :selected=\"burger.status == s.tipo\">\n                            {{ s.tipo }}\n                        </option>\n                    </select>\n                    <button class=\"delete-btn\" @click=\"deleteBurger(burger.id)\">Cancelar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div v-else>\n        <h2>Não há pedidos no momento!</h2>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"GridPedidos\",\n    data() {\n        return {\n            burgers: null,\n            burger_id: null,\n            status: []\n        }\n    },\n    methods: {\n        async getPedidos() {\n            const req = await fetch('http://localhost:3000/burgers')\n\n            const data = await req.json()\n\n            this.burgers = data\n\n            // Resgata os status de pedidos\n            this.getStatus()\n\n        },\n\n        async getStatus() {\n\n            const req = await fetch('http://localhost:3000/status')\n\n            const data = await req.json()\n\n            this.status = data\n\n        },\n\n        async deleteBurger(id) {\n\n            const req = await fetch(`http://localhost:3000/burgers/${id}`, {\n                method: \"DELETE\"\n            });\n\n            const res = await req.json()\n\n            this.getPedidos()\n\n        },\n\n        async updateBurger(event, id) {\n\n            const option = event.target.value;\n\n            const dataJson = JSON.stringify({ status: option });\n\n            const req = await fetch(`http://localhost:3000/burgers/${id}`, {\n                method: \"PATCH\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: dataJson\n            });\n\n            const res = await req.json()\n\n            console.log(res)\n\n        }\n    },\n    mounted() {\n        this.getPedidos()\n    }\n}\n\n</script>\n\n<style scoped></style>\n  "],"mappings":";;EAAAA,GAAA;EACSC,EAAE,EAAC;;;EAWCA,EAAE,EAAC;AAAmB;;EAEdC,KAAK,EAAC;AAAc;mBAdzC;mBAAA;mBAAA;;EAAAF,GAAA;AAAA;;SACiCG,KAAA,CAAAC,OAAO,I,cAApCC,mBAAA,CAgCM,OAhCNC,UAgCM,G,0BA/BFC,mBAAA,CASM,cARFA,mBAAA,CAOM;IAPDN,EAAE,EAAC;EAAsB,IAC1BM,mBAAA,CAA8B;IAAzBL,KAAK,EAAC;EAAU,GAAC,IAAE,GACxBK,mBAAA,CAAmB,aAAd,UAAQ,GACbA,mBAAA,CAAe,aAAV,MAAI,GACTA,mBAAA,CAAiB,aAAZ,QAAM,GACXA,mBAAA,CAAqB,aAAhB,YAAU,GACfA,mBAAA,CAAiB,aAAZ,QAAM,E,wBAGnBA,mBAAA,CAoBM,OApBNC,UAoBM,I,kBAnBFH,mBAAA,CAkBMI,SAAA,QA/BlBC,WAAA,CAa2DP,KAAA,CAAAC,OAAO,EAAjBO,MAAM;yBAA3CN,mBAAA,CAkBM;MAlBDH,KAAK,EAAC,kBAAkB;MAA4BF,GAAG,EAAEW,MAAM,CAACV;QACjEM,mBAAA,CAA+C,OAA/CK,UAA+C,EAAAC,gBAAA,CAAlBF,MAAM,CAACV,EAAE,kBACtCM,mBAAA,CAA4B,aAAAM,gBAAA,CAApBF,MAAM,CAACG,IAAI,kBACnBP,mBAAA,CAA2B,aAAAM,gBAAA,CAAnBF,MAAM,CAACI,GAAG,kBAClBR,mBAAA,CAA6B,aAAAM,gBAAA,CAArBF,MAAM,CAACK,KAAK,kBACpBT,mBAAA,CAIM,e,kBAHFF,mBAAA,CAEKI,SAAA,QArBzBC,WAAA,CAmBoDC,MAAM,CAACM,SAAS,EAnBpE,CAmBgCC,QAAQ,EAAEC,KAAK;2BAA3Bd,mBAAA,CAEK;QAF8CL,GAAG,EAAEmB;MAAK,IACzDZ,mBAAA,CAAuB,YAAAM,gBAAA,CAAhBK,QAAQ,iB;sCAGvBX,mBAAA,CAOM,cANFA,mBAAA,CAIS;MAJDa,IAAI,EAAC,QAAQ;MAAClB,KAAK,EAAC,QAAQ;MAAEmB,QAAM,EAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY,CAACF,MAAM,EAAEX,MAAM,CAACV,EAAE;2BACxEI,mBAAA,CAESI,SAAA,QA3BjCC,WAAA,CAyB4DP,KAAA,CAAAsB,MAAM,EAAXC,CAAC;2BAAhCrB,mBAAA,CAES;QAFAsB,KAAK,EAAED,CAAC,CAACE,IAAI;QAAuB5B,GAAG,EAAE0B,CAAC,CAACzB,EAAE;QAAG4B,QAAQ,EAAElB,MAAM,CAACc,MAAM,IAAIC,CAAC,CAACE;0BAC/EF,CAAC,CAACE,IAAI,wBA1BrCE,UAAA;qEAAAC,UAAA,GA6BoBxB,mBAAA,CAA6E;MAArEL,KAAK,EAAC,YAAY;MAAE8B,OAAK,EAAAV,MAAA,IAAEC,QAAA,CAAAU,YAAY,CAACtB,MAAM,CAACV,EAAE;OAAG,UAAQ,iBA7BxFiC,UAAA,E;uDAkCI7B,mBAAA,CAEM,OApCV8B,UAAA,EAAAC,MAAA,QAAAA,MAAA,OAmCQ7B,mBAAA,CAAmC,YAA/B,4BAA0B,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}